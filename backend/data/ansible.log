2025-03-06 13:16:37,571 p=30 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 13:16:37,660 p=30 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 13:16:37,669 p=30 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 13:16:37,935 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 13:16:37,938 p=30 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 13:16:37,948 p=30 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 13:16:37,951 p=30 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 13:16:37,964 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 13:16:37,970 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 13:16:37,971 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.17', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '', 'scsi_type': '', 'boot_firmware': '', 'network_type': '', 'network_device': '', 'disk_type': '', 'wait_for_ip': '', 'dns_servers': '', 'domain': ''})
2025-03-06 13:16:37,976 p=30 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 13:16:37,992 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 13:16:37,994 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 13:16:37,994 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.17', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '', 'scsi_type': '', 'boot_firmware': '', 'network_type': '', 'network_device': '', 'disk_type': '', 'wait_for_ip': '', 'dns_servers': '', 'domain': ''}) 
2025-03-06 13:16:38,002 p=30 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 13:16:46,868 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 13:16:47,251 p=30 u=root n=ansible | failed: [127.0.0.1 -> localhost] (item=test) => changed=false 
  ansible_loop_var: item
  item:
    action: apply
    boot_firmware: ''
    datastore: datastore1
    disk_size_gb: '50'
    disk_type: ''
    dns_servers: ''
    domain: ''
    folder: /
    gateway: 192.168.1.1
    guest_id: rhel8_64Guest
    hostname: test
    ip: 192.168.1.17
    memory_mb: '4096'
    netmask: 255.255.255.0
    network: VM Network
    network_device: ''
    network_type: ''
    num_cpu_cores: ''
    num_cpus: '2'
    scsi_type: ''
    template: template-redhat8
    vm_name: test
    wait_for_ip: ''
  msg: 'argument ''wait_for_ip_address'' is of type <class ''str''> and we were unable to convert to bool: The value '''' is not a valid boolean.  Valid booleans include: 0, ''y'', ''on'', ''t'', 1, ''0'', ''off'', ''true'', ''yes'', ''no'', ''n'', ''1'', ''f'', ''false'''
2025-03-06 13:16:47,254 p=30 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 13:16:47,254 p=30 u=root n=ansible | 127.0.0.1                  : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-06 13:36:35,725 p=30 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 13:36:35,822 p=30 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 13:36:35,831 p=30 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 13:36:36,096 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 13:36:36,099 p=30 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 13:36:36,107 p=30 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 13:36:36,110 p=30 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 13:36:36,123 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 13:36:36,129 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 13:36:36,130 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.17', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '', 'scsi_type': '', 'boot_firmware': '', 'network_type': '', 'network_device': '', 'disk_type': '', 'wait_for_ip': '', 'dns_servers': '', 'domain': ''})
2025-03-06 13:36:36,134 p=30 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 13:36:36,150 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 13:36:36,151 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 13:36:36,152 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.17', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '', 'scsi_type': '', 'boot_firmware': '', 'network_type': '', 'network_device': '', 'disk_type': '', 'wait_for_ip': '', 'dns_servers': '', 'domain': ''}) 
2025-03-06 13:36:36,161 p=30 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 13:36:49,642 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 13:36:50,100 p=30 u=root n=ansible | failed: [127.0.0.1 -> localhost] (item=test) => changed=false 
  ansible_loop_var: item
  item:
    action: apply
    boot_firmware: ''
    datastore: datastore1
    disk_size_gb: '50'
    disk_type: ''
    dns_servers: ''
    domain: ''
    folder: /
    gateway: 192.168.1.1
    guest_id: rhel8_64Guest
    hostname: test
    ip: 192.168.1.17
    memory_mb: '4096'
    netmask: 255.255.255.0
    network: VM Network
    network_device: ''
    network_type: ''
    num_cpu_cores: ''
    num_cpus: '2'
    scsi_type: ''
    template: template-redhat8
    vm_name: test
    wait_for_ip: ''
  msg: 'value of type must be one of: thin, eagerzeroedthick, thick, got:  found in disk'
2025-03-06 13:36:50,103 p=30 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 13:36:50,103 p=30 u=root n=ansible | 127.0.0.1                  : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-06 14:15:45,727 p=30 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 14:15:45,816 p=30 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 14:15:45,824 p=30 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 14:15:46,097 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 14:15:46,100 p=30 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 14:15:46,110 p=30 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 14:15:46,113 p=30 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 14:15:46,126 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 14:15:46,133 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:15:46,133 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:15:46,136 p=30 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 14:15:46,153 p=30 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 14:15:46,154 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:15:46,155 p=30 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:15:46,162 p=30 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 14:15:58,297 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 14:19:03,932 p=30 u=root n=ansible | changed: [127.0.0.1 -> localhost] => (item=test)
2025-03-06 14:19:03,943 p=30 u=root n=ansible | TASK [Destroy VMs from vCenter] ************************************************
2025-03-06 14:19:05,854 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server01)
2025-03-06 14:19:05,860 p=30 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 14:19:05,861 p=30 u=root n=ansible | 127.0.0.1                  : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-06 14:22:59,493 p=29 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 14:22:59,586 p=29 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 14:22:59,598 p=29 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 14:22:59,874 p=29 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 14:22:59,877 p=29 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 14:22:59,887 p=29 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 14:22:59,890 p=29 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 14:22:59,908 p=29 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 14:22:59,910 p=29 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:22:59,911 p=29 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:22:59,917 p=29 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 14:22:59,931 p=29 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 14:22:59,933 p=29 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:22:59,933 p=29 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '2', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:22:59,941 p=29 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 14:25:36,050 p=29 u=root n=ansible | changed: [127.0.0.1 -> localhost] => (item=web-server01)
2025-03-06 14:25:48,421 p=29 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 14:26:00,565 p=29 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=test)
2025-03-06 14:26:00,572 p=29 u=root n=ansible | TASK [Destroy VMs from vCenter] ************************************************
2025-03-06 14:26:00,585 p=29 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 14:26:00,585 p=29 u=root n=ansible | 127.0.0.1                  : ok=4    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2025-03-06 14:29:25,528 p=64 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 14:29:25,616 p=64 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 14:29:25,625 p=64 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 14:29:25,901 p=64 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 14:29:25,904 p=64 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 14:29:25,912 p=64 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 14:29:25,915 p=64 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 14:29:25,931 p=64 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 14:29:25,935 p=64 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:29:25,936 p=64 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:29:25,940 p=64 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 14:29:25,952 p=64 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 14:29:25,954 p=64 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:29:25,954 p=64 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:29:25,962 p=64 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 14:30:04,426 p=64 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server01)
2025-03-06 14:30:32,877 p=64 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 14:31:22,579 p=64 u=root n=ansible | changed: [127.0.0.1 -> localhost] => (item=test)
2025-03-06 14:31:22,585 p=64 u=root n=ansible | TASK [Destroy VMs from vCenter] ************************************************
2025-03-06 14:31:22,596 p=64 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 14:31:22,597 p=64 u=root n=ansible | 127.0.0.1                  : ok=4    changed=1    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2025-03-06 14:32:24,736 p=99 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 14:32:24,828 p=99 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 14:32:24,837 p=99 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 14:32:25,109 p=99 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 14:32:25,112 p=99 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 14:32:25,122 p=99 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 14:32:25,124 p=99 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 14:32:25,137 p=99 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 14:32:25,144 p=99 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:32:25,144 p=99 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:32:25,148 p=99 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 14:32:25,164 p=99 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 14:32:25,166 p=99 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:32:25,166 p=99 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:32:25,174 p=99 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 14:32:54,088 p=99 u=root n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: http.client.HTTPException: 502 Bad Gateway
2025-03-06 14:32:54,089 p=99 u=root n=ansible | failed: [127.0.0.1 -> localhost] (item=web-server02) => changed=false 
  ansible_loop_var: item
  item:
    action: apply
    boot_firmware: bios
    datastore: datastore1
    disk_size_gb: '50'
    disk_type: thin
    dns_servers: 191.168.1.53
    domain: idevops.io.vn
    folder: /
    gateway: 192.168.1.1
    guest_id: rhel8_64Guest
    hostname: web-server02
    ip: 192.168.1.13
    memory_mb: '4096'
    netmask: 255.255.255.0
    network: VM Network
    network_device: vmxnet3
    network_type: static
    num_cpu_cores: '1'
    num_cpus: '4'
    scsi_type: paravirtual
    template: template-redhat8
    vm_name: web-server02
    wait_for_ip: 'yes'
  module_stderr: |-
    Traceback (most recent call last):
      File "<stdin>", line 107, in <module>
      File "<stdin>", line 99, in _ansiballz_main
      File "<stdin>", line 47, in invoke_module
      File "<frozen runpy>", line 226, in run_module
      File "<frozen runpy>", line 98, in _run_module_code
      File "<frozen runpy>", line 88, in _run_code
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 3469, in <module>
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 3417, in main
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 3058, in reconfigure_vm
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 1804, in configure_network
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 1740, in sanitize_network_params
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 1117, in get_network
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 1088, in find_obj
      File "/tmp/ansible_community.vmware.vmware_guest_payload_fal0lv9b/ansible_community.vmware.vmware_guest_payload.zip/ansible_collections/community/vmware/plugins/modules/vmware_guest.py", line 1143, in get_parent_datacenter
      File "/usr/lib/python3.11/site-packages/pyVmomi/VmomiSupport.py", line 608, in __call__
        return self.f(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^
      File "/usr/lib/python3.11/site-packages/pyVmomi/VmomiSupport.py", line 396, in _InvokeAccessor
        return self._stub.InvokeAccessor(self, info)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      File "/usr/lib/python3.11/site-packages/pyVmomi/StubAdapterAccessorImpl.py", line 57, in InvokeAccessor
        return self.InvokeMethod(mo, info, (prop, ))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      File "/usr/lib/python3.11/site-packages/pyVmomi/SoapAdapter.py", line 1477, in InvokeMethod
        raise HTTPException(
    http.client.HTTPException: 502 Bad Gateway
  module_stdout: ''
  msg: |-
    MODULE FAILURE
    See stdout/stderr for the exact error
  rc: 1
2025-03-06 14:33:34,606 p=99 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=test)
2025-03-06 14:33:34,609 p=99 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 14:33:34,609 p=99 u=root n=ansible | 127.0.0.1                  : ok=4    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-06 14:46:08,943 p=130 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 14:46:09,033 p=130 u=root n=ansible | PLAY [Manage VMs (Apply or Destroy) from CSV file] *****************************
2025-03-06 14:46:09,043 p=130 u=root n=ansible | TASK [Read VM data from CSV file] **********************************************
2025-03-06 14:46:09,316 p=130 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 14:46:09,319 p=130 u=root n=ansible | TASK [Initialize empty lists for apply and destroy actions] ********************
2025-03-06 14:46:09,327 p=130 u=root n=ansible | ok: [127.0.0.1]
2025-03-06 14:46:09,329 p=130 u=root n=ansible | TASK [Sort VMs based on action field] ******************************************
2025-03-06 14:46:09,342 p=130 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'}) 
2025-03-06 14:46:09,344 p=130 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:46:09,347 p=130 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:46:09,350 p=130 u=root n=ansible | TASK [Sort VMs for destruction] ************************************************
2025-03-06 14:46:09,369 p=130 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server01', 'num_cpus': '8', 'memory_mb': '9216', 'disk_size_gb': '150', 'ip': '192.168.1.15', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'vmn2', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server013', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '2', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'abc.io.vn'})
2025-03-06 14:46:09,374 p=130 u=root n=ansible | ok: [127.0.0.1] => (item={'action': 'destroy', 'vm_name': 'web-server02', 'num_cpus': '4', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.13', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'web-server02', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'})
2025-03-06 14:46:09,374 p=130 u=root n=ansible | skipping: [127.0.0.1] => (item={'action': 'apply', 'vm_name': 'test', 'num_cpus': '3', 'memory_mb': '4096', 'disk_size_gb': '50', 'ip': '192.168.1.18', 'template': 'template-redhat8', 'guest_id': 'rhel8_64Guest', 'network': 'VM Network', 'datastore': 'datastore1', 'folder': '/', 'hostname': 'test', 'netmask': '255.255.255.0', 'gateway': '192.168.1.1', 'num_cpu_cores': '1', 'scsi_type': 'paravirtual', 'boot_firmware': 'bios', 'network_type': 'static', 'network_device': 'vmxnet3', 'disk_type': 'thin', 'wait_for_ip': 'yes', 'dns_servers': '191.168.1.53', 'domain': 'idevops.io.vn'}) 
2025-03-06 14:46:09,383 p=130 u=root n=ansible | TASK [Apply VMs on vCenter] ****************************************************
2025-03-06 14:46:24,292 p=130 u=root n=ansible | ok: [127.0.0.1 -> localhost] => (item=test)
2025-03-06 14:46:24,300 p=130 u=root n=ansible | TASK [Destroy VMs from vCenter] ************************************************
2025-03-06 14:46:43,607 p=130 u=root n=ansible | changed: [127.0.0.1 -> localhost] => (item=web-server01)
2025-03-06 14:47:02,399 p=130 u=root n=ansible | changed: [127.0.0.1 -> localhost] => (item=web-server02)
2025-03-06 14:47:02,406 p=130 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 14:47:02,406 p=130 u=root n=ansible | 127.0.0.1                  : ok=6    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-06 16:05:47,515 p=30 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 16:05:47,604 p=30 u=root n=ansible | PLAY [Control VM Power State] **************************************************
2025-03-06 16:05:47,613 p=30 u=root n=ansible | TASK [Set VM power state] ******************************************************
2025-03-06 16:06:06,434 p=30 u=root n=ansible | changed: [127.0.0.1 -> localhost]
2025-03-06 16:06:06,437 p=30 u=root n=ansible | TASK [Show power state change result] ******************************************
2025-03-06 16:06:06,452 p=30 u=root n=ansible | ok: [127.0.0.1] => 
  power_result:
    answer: null
    changed: true
    failed: false
    instance:
      advanced_settings:
        ethernet0.pciSlotNumber: '192'
        guestOS.detailed.data: architecture='X86' bitness='64' cpeString='cpe:/o:redhat:enterprise_linux:8::baseos' distroAddlVersion='8.10 (Ootpa)' distroName='Red Hat Enterprise Linux' distroVersion='8.10' familyName='Linux' kernelVersion='4.18.0-553.27.1.el8_10.x86_64' prettyName='Red Hat Enterprise Linux 8.10 (Ootpa)'
        hpet0.present: 'TRUE'
        migrate.hostLog: test-54027855.hlog
        migrate.hostLogState: none
        migrate.migrationId: '0'
        monitor.phys_bits_used: '43'
        numa.autosize.cookie: '20001'
        numa.autosize.vcpu.maxPerVirtualNode: '2'
        nvram: test.nvram
        pciBridge0.pciSlotNumber: '17'
        pciBridge0.present: 'TRUE'
        pciBridge4.functions: '8'
        pciBridge4.pciSlotNumber: '21'
        pciBridge4.present: 'TRUE'
        pciBridge4.virtualDev: pcieRootPort
        pciBridge5.functions: '8'
        pciBridge5.pciSlotNumber: '22'
        pciBridge5.present: 'TRUE'
        pciBridge5.virtualDev: pcieRootPort
        pciBridge6.functions: '8'
        pciBridge6.pciSlotNumber: '23'
        pciBridge6.present: 'TRUE'
        pciBridge6.virtualDev: pcieRootPort
        pciBridge7.functions: '8'
        pciBridge7.pciSlotNumber: '24'
        pciBridge7.present: 'TRUE'
        pciBridge7.virtualDev: pcieRootPort
        sched.cpu.latencySensitivity: normal
        sched.swap.derivedName: /vmfs/volumes/672dc52f-242fe58c-04ed-000c294941ad/test/test-66073817.vswp
        scsi0.pciSlotNumber: '160'
        scsi0.sasWWID: 50 05 05 62 59 88 15 30
        scsi0:0.redo: ''
        softPowerOff: 'FALSE'
        svga.guestBackedPrimaryAware: 'TRUE'
        svga.present: 'TRUE'
        tools.guest.desktop.autolock: 'FALSE'
        vmci0.pciSlotNumber: '32'
        vmotion.checkpointFBSize: '8388608'
        vmotion.checkpointSVGAPrimarySize: '8388608'
        vmware.tools.internalversion: '12389'
        vmware.tools.requiredversion: '10346'
      annotation: ''
      current_snapshot: null
      customvalues: {}
      guest_consolidation_needed: false
      guest_question: null
      guest_tools_status: guestToolsNotRunning
      guest_tools_version: '12389'
      hw_cluster: Home
      hw_cores_per_socket: 1
      hw_datastores:
      - datastore1
      hw_esxi_host: 192.168.1.3
      hw_eth0:
        addresstype: assigned
        ipaddresses: null
        label: Network adapter 1
        macaddress: 00:50:56:b6:00:3f
        macaddress_dash: 00-50-56-b6-00-3f
        portgroup_key: null
        portgroup_portkey: null
        summary: VM Network
      hw_files:
      - '[datastore1] test/test.vmx'
      - '[datastore1] test/test.nvram'
      - '[datastore1] test/test.vmsd'
      - '[datastore1] test/test.vmdk'
      hw_folder: /Home/vm
      hw_guest_full_name: Red Hat Enterprise Linux 8 (64-bit)
      hw_guest_ha_state: null
      hw_guest_id: rhel8_64Guest
      hw_interfaces:
      - eth0
      hw_is_template: false
      hw_memtotal_mb: 4096
      hw_name: test
      hw_power_status: poweredOff
      hw_processor_count: 3
      hw_product_uuid: 42368642-5988-153e-634a-8eaad7b3e57d
      hw_version: vmx-14
      instance_uuid: 5036be64-8f8c-764b-fe68-fa6d39356f40
      ipv4: null
      ipv6: null
      module_hw: true
      moid: vm-1705
      snapshots: []
      tpm_info:
        provider_id: null
        tpm_present: false
      vimref: vim.VirtualMachine:vm-1705
      vnc: {}
2025-03-06 16:06:06,458 p=30 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 16:06:06,459 p=30 u=root n=ansible | 127.0.0.1                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-06 16:07:06,334 p=47 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 16:07:06,408 p=47 u=root n=ansible | PLAY [Control VM Power State] **************************************************
2025-03-06 16:07:06,417 p=47 u=root n=ansible | TASK [Set VM power state] ******************************************************
2025-03-06 16:07:08,324 p=47 u=root n=ansible | fatal: [127.0.0.1 -> localhost]: FAILED! => changed=false 
  msg: 'Unable to set power state for non-existing virtual machine : ''web-server02'''
2025-03-06 16:07:08,326 p=47 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 16:07:08,326 p=47 u=root n=ansible | 127.0.0.1                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-06 16:26:35,003 p=30 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 16:26:35,095 p=30 u=root n=ansible | PLAY [Control VM Power State] **************************************************
2025-03-06 16:26:35,104 p=30 u=root n=ansible | TASK [Set VM power state] ******************************************************
2025-03-06 16:26:53,797 p=30 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 16:26:53,802 p=30 u=root n=ansible | TASK [Show power state change result] ******************************************
2025-03-06 16:26:53,828 p=30 u=root n=ansible | ok: [127.0.0.1] => 
  power_result:
    answer: null
    changed: false
    failed: false
    instance:
      advanced_settings:
        ethernet0.pciSlotNumber: '192'
        guestOS.detailed.data: architecture='X86' bitness='64' cpeString='cpe:/o:redhat:enterprise_linux:8::baseos' distroAddlVersion='8.10 (Ootpa)' distroName='Red Hat Enterprise Linux' distroVersion='8.10' familyName='Linux' kernelVersion='4.18.0-553.27.1.el8_10.x86_64' prettyName='Red Hat Enterprise Linux 8.10 (Ootpa)'
        hpet0.present: 'TRUE'
        migrate.hostLog: test-54027855.hlog
        migrate.hostLogState: none
        migrate.migrationId: '0'
        monitor.phys_bits_used: '43'
        numa.autosize.cookie: '20001'
        numa.autosize.vcpu.maxPerVirtualNode: '2'
        nvram: test.nvram
        pciBridge0.pciSlotNumber: '17'
        pciBridge0.present: 'TRUE'
        pciBridge4.functions: '8'
        pciBridge4.pciSlotNumber: '21'
        pciBridge4.present: 'TRUE'
        pciBridge4.virtualDev: pcieRootPort
        pciBridge5.functions: '8'
        pciBridge5.pciSlotNumber: '22'
        pciBridge5.present: 'TRUE'
        pciBridge5.virtualDev: pcieRootPort
        pciBridge6.functions: '8'
        pciBridge6.pciSlotNumber: '23'
        pciBridge6.present: 'TRUE'
        pciBridge6.virtualDev: pcieRootPort
        pciBridge7.functions: '8'
        pciBridge7.pciSlotNumber: '24'
        pciBridge7.present: 'TRUE'
        pciBridge7.virtualDev: pcieRootPort
        sched.cpu.latencySensitivity: normal
        sched.swap.derivedName: /vmfs/volumes/672dc52f-242fe58c-04ed-000c294941ad/test/test-66073817.vswp
        scsi0.pciSlotNumber: '160'
        scsi0.sasWWID: 50 05 05 62 59 88 15 30
        scsi0:0.redo: ''
        softPowerOff: 'FALSE'
        svga.guestBackedPrimaryAware: 'TRUE'
        svga.present: 'TRUE'
        tools.guest.desktop.autolock: 'FALSE'
        vmci0.pciSlotNumber: '32'
        vmotion.checkpointFBSize: '8388608'
        vmotion.checkpointSVGAPrimarySize: '8388608'
        vmware.tools.internalversion: '12389'
        vmware.tools.requiredversion: '10346'
      annotation: ''
      current_snapshot: null
      customvalues: {}
      guest_consolidation_needed: false
      guest_question: null
      guest_tools_status: guestToolsNotRunning
      guest_tools_version: '12389'
      hw_cluster: Home
      hw_cores_per_socket: 1
      hw_datastores:
      - datastore1
      hw_esxi_host: 192.168.1.3
      hw_eth0:
        addresstype: assigned
        ipaddresses: null
        label: Network adapter 1
        macaddress: 00:50:56:b6:00:3f
        macaddress_dash: 00-50-56-b6-00-3f
        portgroup_key: null
        portgroup_portkey: null
        summary: VM Network
      hw_files:
      - '[datastore1] test/test.vmx'
      - '[datastore1] test/test.nvram'
      - '[datastore1] test/test.vmsd'
      - '[datastore1] test/test.vmdk'
      hw_folder: /Home/vm
      hw_guest_full_name: Red Hat Enterprise Linux 8 (64-bit)
      hw_guest_ha_state: null
      hw_guest_id: rhel8_64Guest
      hw_interfaces:
      - eth0
      hw_is_template: false
      hw_memtotal_mb: 4096
      hw_name: test
      hw_power_status: poweredOff
      hw_processor_count: 3
      hw_product_uuid: 42368642-5988-153e-634a-8eaad7b3e57d
      hw_version: vmx-14
      instance_uuid: 5036be64-8f8c-764b-fe68-fa6d39356f40
      ipv4: null
      ipv6: null
      module_hw: true
      moid: vm-1705
      snapshots: []
      tpm_info:
        provider_id: null
        tpm_present: false
      vimref: vim.VirtualMachine:vm-1705
      vnc: {}
2025-03-06 16:26:53,834 p=30 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 16:26:53,835 p=30 u=root n=ansible | 127.0.0.1                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-03-06 17:03:07,355 p=28 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 17:03:07,447 p=28 u=root n=ansible | PLAY [Control VM Power State] **************************************************
2025-03-06 17:03:07,455 p=28 u=root n=ansible | TASK [Set VM power state] ******************************************************
2025-03-06 17:03:09,393 p=28 u=root n=ansible | fatal: [127.0.0.1 -> localhost]: FAILED! => changed=false 
  msg: 'Unable to set power state for non-existing virtual machine : ''web-server02'''
2025-03-06 17:03:09,394 p=28 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 17:03:09,395 p=28 u=root n=ansible | 127.0.0.1                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-03-06 17:04:17,316 p=43 u=root n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2025-03-06 17:04:17,381 p=43 u=root n=ansible | PLAY [Control VM Power State] **************************************************
2025-03-06 17:04:17,388 p=43 u=root n=ansible | TASK [Set VM power state] ******************************************************
2025-03-06 17:04:31,587 p=43 u=root n=ansible | ok: [127.0.0.1 -> localhost]
2025-03-06 17:04:31,592 p=43 u=root n=ansible | TASK [Show power state change result] ******************************************
2025-03-06 17:04:31,604 p=43 u=root n=ansible | ok: [127.0.0.1] => 
  power_result:
    answer: null
    changed: false
    failed: false
    instance:
      advanced_settings:
        ethernet0.pciSlotNumber: '192'
        guestOS.detailed.data: architecture='X86' bitness='64' cpeString='cpe:/o:redhat:enterprise_linux:8::baseos' distroAddlVersion='8.10 (Ootpa)' distroName='Red Hat Enterprise Linux' distroVersion='8.10' familyName='Linux' kernelVersion='4.18.0-553.27.1.el8_10.x86_64' prettyName='Red Hat Enterprise Linux 8.10 (Ootpa)'
        hpet0.present: 'TRUE'
        migrate.hostLog: test-54027855.hlog
        migrate.hostLogState: none
        migrate.migrationId: '0'
        monitor.phys_bits_used: '43'
        numa.autosize.cookie: '20001'
        numa.autosize.vcpu.maxPerVirtualNode: '2'
        nvram: test.nvram
        pciBridge0.pciSlotNumber: '17'
        pciBridge0.present: 'TRUE'
        pciBridge4.functions: '8'
        pciBridge4.pciSlotNumber: '21'
        pciBridge4.present: 'TRUE'
        pciBridge4.virtualDev: pcieRootPort
        pciBridge5.functions: '8'
        pciBridge5.pciSlotNumber: '22'
        pciBridge5.present: 'TRUE'
        pciBridge5.virtualDev: pcieRootPort
        pciBridge6.functions: '8'
        pciBridge6.pciSlotNumber: '23'
        pciBridge6.present: 'TRUE'
        pciBridge6.virtualDev: pcieRootPort
        pciBridge7.functions: '8'
        pciBridge7.pciSlotNumber: '24'
        pciBridge7.present: 'TRUE'
        pciBridge7.virtualDev: pcieRootPort
        sched.cpu.latencySensitivity: normal
        sched.swap.derivedName: /vmfs/volumes/672dc52f-242fe58c-04ed-000c294941ad/test/test-66073817.vswp
        scsi0.pciSlotNumber: '160'
        scsi0.sasWWID: 50 05 05 62 59 88 15 30
        scsi0:0.redo: ''
        softPowerOff: 'FALSE'
        svga.guestBackedPrimaryAware: 'TRUE'
        svga.present: 'TRUE'
        tools.guest.desktop.autolock: 'FALSE'
        vmci0.pciSlotNumber: '32'
        vmotion.checkpointFBSize: '8388608'
        vmotion.checkpointSVGAPrimarySize: '8388608'
        vmware.tools.internalversion: '12389'
        vmware.tools.requiredversion: '10346'
      annotation: ''
      current_snapshot: null
      customvalues: {}
      guest_consolidation_needed: false
      guest_question: null
      guest_tools_status: guestToolsNotRunning
      guest_tools_version: '12389'
      hw_cluster: Home
      hw_cores_per_socket: 1
      hw_datastores:
      - datastore1
      hw_esxi_host: 192.168.1.3
      hw_eth0:
        addresstype: assigned
        ipaddresses: null
        label: Network adapter 1
        macaddress: 00:50:56:b6:00:3f
        macaddress_dash: 00-50-56-b6-00-3f
        portgroup_key: null
        portgroup_portkey: null
        summary: VM Network
      hw_files:
      - '[datastore1] test/test.vmx'
      - '[datastore1] test/test.nvram'
      - '[datastore1] test/test.vmsd'
      - '[datastore1] test/test.vmdk'
      hw_folder: /Home/vm
      hw_guest_full_name: Red Hat Enterprise Linux 8 (64-bit)
      hw_guest_ha_state: null
      hw_guest_id: rhel8_64Guest
      hw_interfaces:
      - eth0
      hw_is_template: false
      hw_memtotal_mb: 4096
      hw_name: test
      hw_power_status: poweredOff
      hw_processor_count: 3
      hw_product_uuid: 42368642-5988-153e-634a-8eaad7b3e57d
      hw_version: vmx-14
      instance_uuid: 5036be64-8f8c-764b-fe68-fa6d39356f40
      ipv4: null
      ipv6: null
      module_hw: true
      moid: vm-1705
      snapshots: []
      tpm_info:
        provider_id: null
        tpm_present: false
      vimref: vim.VirtualMachine:vm-1705
      vnc: {}
2025-03-06 17:04:31,608 p=43 u=root n=ansible | PLAY RECAP *********************************************************************
2025-03-06 17:04:31,608 p=43 u=root n=ansible | 127.0.0.1                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
